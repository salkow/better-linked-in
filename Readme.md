# BackEnd

To backend κομμάτι έγινε με τη χρήση του Java SpringBoot και για τη βάση δεδομένων χρησιμοποιήθηκε το MySql.

Για να τρέξει η βάση απαιτείται να υπάρχει μια βάση **betterlinkedin** με **όνομα χρήστη tedi** και **κωδικό tedi2021**. Το hibernate δημιουργεί όλους τους απαραίτητους πίνακες αυτόματα και τρέχει στη διεύθυνση **https://localhost:8084**.

Κατά την πρώτη εκτέλεση του κώδικα του backend(άδεια βάση δεδομένων), προστίθεται ένας χρήστης με δικαιώματα *admin*, ο οποίος ως πρώτος χρήστης στην βάση, θα έχει το id 1.

Χρησιμοποιώ το Spring Security για την διασφάλιση του backend μέρους του site, το οποίο σημαίνει ότι η πρόσβαση σε όλα τα endpoints εκτός του **/perform_login** και του **/api/v1/registration**, επιτρέπεται μόνο σε εξουσιοδοτημένους χρήστες. Η εξουσιοδότηση γίνεται μέσω ενός JWT token το οποίο δίνεται στο χρήστη μετά από ένα επιτυχημένο login request και το οποίο ο χρήστης έπειτα έχει σε κάθε request του προς το server στο header *Authorization* με περιεχόμενο *"Bearer JWTToken"*. Το login και το registration γίνονται με ένα POST request στην κατάλληλη διεύθυνση και το σώμα του είναι σε μορφή form data. Στο login επιστρέφω ένα JSON με το JWTToken και το ένα String που είναι "ADMIN" ή "USER", ανάλογα με το ρόλο του χρήστη. Στο registration, η φωτογραφία σώζεται τοπικά στο φάκελο images, μέσα σε ένα υποφάκελο με όνομα το id του χρήστη.

Αν ο χρήστης είναι admin, υπάρχει το **/api/v1/users** που επιστρέφει ένα JSON με τα απαραίτητα στοιχεία για όλους τους χρήστες.

Αν ο χρήστης θέλει τα δικά του στοιχεία, χρειάζεται ένα GET στο **/api/v1/user**, ενώ αν θέλει τα στοιχεία κάποιου άλλου χρήστη, τότε με ένα GET στο **/api/v1/user/{id}**, όπου id το id του χρήστη.





